import{d as E,i as N,I as j,T as B,N as g,c as l,a as n,b as a,e as _,m as L,w as t,F as $,o,Z as O,f as b,t as r,j as i,r as R,g as y,ab as h,_ as k,k as U,$ as D}from"./app.3dbb9f4f.js";import{_ as F}from"./Minimal.3c70d183.js";import{_ as T}from"./Panel.1435ce07.js";import{_ as q}from"./Flex.781629fc.js";const A={class:"w-full sm:max-w-lg mx-auto"},S={key:0},x={key:1},I={for:"code"},M={for:"recovery_code"},P=E({layout:F}),J=Object.assign(P,{__name:"TwoFactorLogin",setup(Y){N("routePrefix");const m="code",v="recovery_code",c=j(m),s=B({code:"",recovery_code:""}),f=g(()=>c.value===m),p=g(()=>c.value===v),C=()=>{c.value=m},w=()=>{c.value=v},V=()=>{s.post(route("br.two-factor.login"))};return(e,d)=>(o(),l($,null,[n(a(O),{title:e.$t("auth.sign_in")},null,8,["title"]),_("div",A,[_("form",{onSubmit:L(V,["prevent"])},[n(T,null,{title:t(()=>[b(r(e.$t("auth.two_factor_authentication")),1)]),description:t(()=>[f.value?(o(),l("span",S,r(e.$t("auth.confirm_access_authentication_code")),1)):i("",!0),p.value?(o(),l("span",x,r(e.$t("auth.confirm_access_emergency_codes")),1)):i("",!0)]),default:t(()=>[(o(!0),l($,null,R(a(s).errors,u=>(o(),y(D,{message:u,class:"mb-xs"},null,8,["message"]))),256)),f.value?(o(),y(k,{key:0},{title:t(()=>[_("label",I,r(e.$t("profile.code")),1)]),default:t(()=>[n(h,{modelValue:a(s).code,"onUpdate:modelValue":d[0]||(d[0]=u=>a(s).code=u),type:"text",id:"code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):i("",!0),p.value?(o(),y(k,{key:1},{title:t(()=>[_("label",M,r(e.$t("auth.recovery_code")),1)]),default:t(()=>[n(h,{modelValue:a(s).recovery_code,"onUpdate:modelValue":d[1]||(d[1]=u=>a(s).recovery_code=u),type:"text",id:"recovery_code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):i("",!0),n(q,{class:"justify-between mt-lg"},{default:t(()=>[n(U,{disabled:a(s).processing,isLoading:a(s).processing,type:"submit"},{default:t(()=>[b(r(e.$t("auth.login")),1)]),_:1},8,["disabled","isLoading"]),f.value?(o(),l("div",{key:0,onClick:w,role:"button",class:"link-primary"},r(e.$t("auth.use_recovery_code")),1)):i("",!0),p.value?(o(),l("div",{key:1,onClick:C,role:"button",class:"link-primary"},r(e.$t("auth.use_authentication_code")),1)):i("",!0)]),_:1})]),_:1})],32)])],64))}});export{J as default};
